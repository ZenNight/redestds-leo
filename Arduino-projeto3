#include <Servo.h>         // Biblioteca para controle do servo
#include <Ultrasonic.h>    // Biblioteca para controle do sensor ultrassônico

// Define os pinos para o sensor ultrassônico
#define pino_trigger 42
#define pino_echo 4

Servo meuServo;                   // Cria o objeto servo
Ultrasonic ultrasonic(pino_trigger, pino_echo);  // Inicializa o sensor ultrassônico

void setup() {
    Serial.begin(9600);           // Inicializa a comunicação serial
    Serial.println("Lendo dados do sensor...");

    meuServo.attach(7);           // Associa o servo motor ao pino digital 6
    meuServo.write(0);            // Define a posição inicial do servo em 0 graus
}

void loop() 
    // Leitura do sensor ultrassônico
    long microsec = ultrasonic.timing();
    float distancia_cm = ultrasonic.convert(microsec, Ultrasonic::CM);

    Serial.print("Distância em cm: ");
    Serial.println(distancia_cm);

    // Verifica se a distância é menor ou igual a 25 cm
    if (distancia_cm <= 25.0) {
        meuServo.write(90);       // Move o servo para 90 graus
        delay(10000);             // Aguarda 10 segundos (10000 milissegundos)
        meuServo.write(0);        // Retorna o servo para 0 graus
    }

    delay(1000); // Aguarda 1 segundo antes de realizar uma nova leitura
}
